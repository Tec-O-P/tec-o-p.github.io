
<div class="headerANDnav">
    <div class="header_content">

        <nav class="nav">
        
            
            
            <a class="nav_menuBtn">
                <img src="../images/icons/menu.svg" alt="Menu button" width="48px" height="48px">
                <img src="../images/icons/menu_close_digitalDisk.svg" alt="Close menu button" width="48px" height="48px">
                <!-- <span>êÑÇ</span> -->
            </a>

            <div class="nav_menu">
                <!-- Conte√∫do no JS! -->




<ul class="ulOfOptions">
<li class="option"><a><span>Link</span></a>

<div class="ulOfSubOptions_box">
    <ul class="ulOfSubOptions">
        <li class="subOption"><a href="#"><span>Link 1.1</span></a></li>
        <li class="subOption"><a href="#"><span>Link 1.2</span></a></li>
        <li class="subOption"><a href="#"><span>Link 1.3</span></a></li>
    </ul>
</div>

</li> 

<li class="option"><button><span>L2</span></button>

<div class="ulOfSubOptions_box">
    <ul class="ulOfSubOptions linedUp">
        <li class="subOption"><a href="#"><img src="../images/exs/landscape.png" alt=" "><span>Link 2.1</span></a></li>
        <!--<li class="subOption"><a href="#"><span class="textIconCSS_menu_template">Link 2.2</span></a></li>-->
        <li class="subOption"><a href="#"><img src="../images/exs/landscape.png" alt=" "><span>Link ... 2.3</span></a></li>
        <!--<li class="subOption"><a href="#">Link 2.4</a></li>-->
        <li class="subOption"><a href="#"><img src="../images/exs/landscape.png" alt=" "><span>L. 2.5</span></a></li>
    </ul>
</div>

</li>

<li class="option"><button><span>L3</span></button>

<div class="ulOfSubOptions_box">
    <ul class="ulOfSubOptions nav_compact_sub_options_text_below">
        <li class="subOption"><a href="#"><img src="../images/exs/landscape.png" alt=" "><span>Link 3.1</span></a></li>
        <!--<li class="subOption"><a href="#"><span class="textIconCSS_menu_template">Link 3.2</span></a></li>-->
        <li class="subOption"><a href="#"><img src="../images/exs/landscape.png" alt=" "><span>Link 3.3</span></a></li>
        <!--<li class="subOption"><a href="#">Link 3.4</a></li>-->
        <li class="subOption"><a href="#"><img src="../images/exs/landscape.png" alt=" "><span>Link 3.5</span></a></li>
    </ul>
</div>

</li>

<li class="option"><button><span>L4</span></button>

<div class="ulOfSubOptions_box">
    <ul class="ulOfSubOptions linedUp nav_expanded_sub_options_h nav_expanded_sub_options_text_below">
        <li class="subOption"><a href="#"><img src="../images/exs/portrait.png" alt=" "><span>Link 4.1</span></a></li>
        <!--<li class="subOption"><a href="#"><span class="textIconCSS_menu_template">Link 4.2</span></a></li>-->
        <li class="subOption"><a href="#"><img src="../images/exs/portrait.png" alt=" "><span>Link ... 4.3</span></a></li>
    <!-- <li class="subOption"><a href="#">Link 4.4</a></li>-->
        <li class="subOption"><a href="#"><img src="../images/exs/portrait.png" alt=" "><span>L. 4.5</span></a></li>
        <li class="subOption"><a href="#"><img src="../images/exs/portrait.png" alt=" "><span>Link 4.6</span></a></li>
    </ul>
</div>

</li>

<li class="option"><button><span>L5</span></button> 

<div class="ulOfSubOptions_box">
    <ul class="ulOfSubOptions nav_expanded_sub_options_h nav_sub_options_text_below">
        <li class="subOption"><a href="#"><img src="../images/exs/portrait.png" alt=" "><span>Link 5.1</span></a></li>
        <!--<li class="subOption"><a href="#"><span class="textIconCSS_menu_template">Link 5.2</span></a></li>-->
        <li class="subOption"><a href="#"><img src="../images/exs/portrait.png" alt=" "><span>Link 5.3</span></a></li>
    <!-- <li class="subOption"><a href="#">Link 5.4</a></li>-->
        <li class="subOption"><a href="#"><img src="../images/exs/portrait.png" alt=" "><span>Link 5.5</span></a></li>
        <li class="subOption"><a href="#"><img src="../images/exs/portrait.png" alt=" "><span>Link 5.6</span></a></li>
    </ul>
</div>

</li>

<li class="option"><a href=""><span class="textIconCSS_menu_template"><!-- ‚àÖ --></span></a></li><!---->

<li class="option"><button><span class="textIconCSS_menu_template">Link 7</span></button>

<div class="ulOfSubOptions_box">
    <ul class="ulOfSubOptions">
        <li class="subOption"><a href="#"><span class="textIconCSS_menu_template">Link 7.1</span></a></li>
        <li class="subOption"><a href="#"><span class="textIconCSS_menu_template">Link 7.2 (This list item is for horizontal overflow test)</span></a></li>
        <li class="subOption"><a href="#"><span class="textIconCSS_menu_template">Link 7.3</span></a></li>
        <!--<li class="subOption"><a href="#">Link 7.4</a></li>
        <li class="subOption"><a href="#"><img src="../images/exs/landscape.png" alt=" " class="nav_poster_margins"><span>Link 7.5</span></a></li> 
        <li class="subOption"><a href="#"><img src="../images/exs/landscape.png" alt=" " class="nav_poster_margins"><span>Link 7.6</span></a></li>-->
    </ul>
</div>

</li>

<li class="option"><button><span class="textIconCSS_menu_template">8</span></button>

<div class="ulOfSubOptions_box">
    <ul class="ulOfSubOptions linedUp">
        <li class="subOption"><a href="#"><span class="textIconCSS_menu_template">Link 8.1</span></a></li>
        <li class="subOption"><a href="#"><span class="textIconCSS_menu_template">L. 8.2</span></a></li>
        <li class="subOption"><a href="#"><span class="textIconCSS_menu_template">Link ... 8.3</span></a></li>
    </ul>
</div>

</li>

<li class="option"><a href="page.html"><span style="font-size: 20.7px /* Esse estilo √© s√≥ para a estrela n√£o ficar t√£o pequena */">‚òÖ</span></a></li>
<li class="option hide"><button aria-label="Hide bar"><span>êÑÇ</span><!-- <img src="../images/icons/headerNav-hide.svg" alt="HeaderANDnav button"> --></button></li>
</ul>



            </div>

        </nav>
    </div>
</div>

<div class="headerANDnav_btn">
    <a>
        <img src="../images/icons/headerNav.svg" alt="HeaderANDnav button">  
    </a>        
</div>



<!-- 
<div class="list_index">
    <ul>
        <li><a href="#Development">Development</a></li>
        <li><a href="#Texts">Texts</a>
        
            <ul>
                <li><a href="#Labels">Labels</a></li>
                <li><a href="#Lists">Lists</a></li>
                <li><a href="#Signs">Signs</a></li>
                <li><a href="#TextIcons">Text Icons</a></li>
                <li><a href="#Anchor">Anchor</a>
                
                    <ul>
                        <li><a href="#Anchor_Type_Button">Type Button</a></li> 
                    </ul>
                
                </li>
            </ul>
        
        </li>
        <li><a href="#Images">Images</a></li>
        
        <ul><li><a href="#Gallery">Gallery</a></li></ul>

        <li><a href="#Videos">Videos</a></li>
        <li><a href="#Audios">Audios</a></li>
        <li><a href="#Tables">Tables</a></li>
        <li><a href="#Forms">Forms</a>
        
            <ul>
                <li><a href="#Switches">Switches</a>
            
                    <ul>
                        <li><a href="#Switch_Button">Button</a>
                        
                            <ul>
                                <li><a href="#Switch_Button_Square">Square</a></li>
                                <li><a href="#Switch_Button_Pill">Pill</a></li>
                                <li><a href="#Switch_Button_Rounded">Rounded</a></li>
                            </ul>
                        
                        </li>
                        <li><a href="#Switch_Image">Image</a></li>
                        <li><a href="#Switch_Key">Key</a></li>
                        <li><a href="#Switch_Tests">Tests</a></li>
                    </ul>
                
                </li>

                <li><a href="#Buttons">Buttons</a>
            
                    <ul>
                        <li><a href="#Button_Normal">Normal</a>
                        
                            <ul>
                                <li><a href="#Button_Square">Square</a></li>
                                <li><a href="#Button_Pill">Pill</a></li>
                                <li><a href="#Button_Rounded">Rounded</a></li>
                            </ul>

                        </li>
                        <li><a href="#Button_Image">Image</a></li>
                        <li><a href="#Button_Tests">Tests</a></li>
                    </ul>
                
                </li>
                
                <li><a href="#Choices">Choices</a>
            
                    <ul>
                        <li><a href="#Horizontal">Horizontal</a></li>
                        <li><a href="#Vertical">Vertical</a></li>
                        <li><a href="#Dropdown">Dropdown</a></li>
                    </ul>
                
                </li>
            </ul>
        </li>
        <li><a href="#Cards">Cards</a>
        
            <ul>
                <li><a href="#CardsGrouped">Grouped</a></li>
            </ul>

        </li>
        <li><a href="#Posters">Posters</a>
        
            <ul>
                <li><a href="#PostersGrouped">Grouped</a></li>
            </ul>

        </li>
        <li><a href="#SmartSelector">Smart Selector</a></li>
        <li><a href="#Lightbox">Lightbox</a></li>
        <li><a href="#CodeEx">CodeEx</a></li>
        <li><a href="#Others">Others</a></li>
    </ul>
</div>
 -->

<div class="list_index">
    <ul>
        <li><a href="#Development"><span>Development</span></a></li>
        <li><a href="#Texts"><span>Texts</span></a>
        
            <ul>
                <li><a href="#Labels"><span>Labels</span></a></li>
                <li><a href="#Lists"><span>Lists</span></a></li>
                <li><a href="#Signs"><span>Signs</span></a></li>
                <li><a href="#TextIcons"><span>Text Icons</span></a></li>
                <li><a href="#Anchor"><span>Anchor</span></a>
                
                    <ul>
                        <li><a href="#Anchor_Type_Button"><span>Type Button</span></a></li> 
                    </ul>
                
                </li>
            </ul>
        
        </li>
        <li><a href="#Images"><span>Images</span></a></li>
        
        <ul><li><a href="#Gallery"><span>Gallery</span></a></li></ul>

        <li><a href="#Videos"><span>Videos</span></a></li>
        <li><a href="#Audios"><span>Audios</span></a></li>
        <li><a href="#Tables"><span>Tables</span></a></li>
        <li><a href="#Forms"><span>Forms</span></a>
        
            <ul>
                <li><a href="#Switches"><span>Switches</span></a>
            
                    <ul>
                        <li><a href="#Switch_Button"><span>Button</span></a>
                        
                            <ul>
                                <li><a href="#Switch_Button_Square"><span>Square</span></a></li>
                                <li><a href="#Switch_Button_Pill"><span>Pill</span></a></li>
                                <li><a href="#Switch_Button_Rounded"><span>Rounded</span></a></li>
                            </ul>
                        
                        </li>
                        <li><a href="#Switch_Image"><span>Image</span></a></li>
                        <li><a href="#Switch_Key"><span>Key</span></a></li>
                        <li><a href="#Switch_Tests"><span>Tests</span></a></li> <!-- -->
                    </ul>
                
                </li>

                <li><a href="#Buttons"><span>Buttons</span></a>
            
                    <ul>
                        <li><a href="#Button_Normal"><span>Normal</span></a>
                        
                            <ul>
                                <li><a href="#Button_Square"><span>Square</span></a></li>
                                <li><a href="#Button_Pill"><span>Pill</span></a></li>
                                <li><a href="#Button_Rounded"><span>Rounded</span></a></li>
                            </ul>

                        </li>
                        <li><a href="#Button_Image"><span>Image</span></a></li>
                        <li><a href="#Button_Tests"><span>Tests</span></a></li> <!-- -->
                    </ul>
                
                </li>
                
                <li><a href="#Choices"><span>Choices</span></a>
            
                    <ul>
                        <li><a href="#Horizontal"><span>Horizontal</span></a></li>
                        <li><a href="#Vertical"><span>Vertical</span></a></li>
                        <li><a href="#Dropdown"><span>Dropdown</span></a></li>
                    </ul>
                
                </li>
            </ul>
        </li>
        <li><a href="#Cards"><span>Cards</span></a>
        
            <ul>
                <li><a href="#CardsGrouped"><span>Grouped</span></a></li>
            </ul>

        </li>
        <li><a href="#Posters"><span>Posters</span></a>
        
            <ul>
                <li><a href="#PostersGrouped"><span>Grouped</span></a></li>
            </ul>

        </li>
        <li><a href="#SmartSelector"><span>Smart Selector</span></a></li>
        <li><a href="#Lightbox"><span>Lightbox</span></a></li>
        <li><a href="#CodeEx"><span>CodeEx</span></a></li>
        <li><a href="#Others"><span>Others</span></a></li>
    </ul>
</div>





var nav = document.querySelector('nav')
var nav_box = nav.querySelector(':scope .box')
var nav_menu = nav.querySelector(':scope ul')
var nav_menu_options_conclusionANDclose = nav.querySelectorAll(':scope ul li.conclusion, :scope ul li.close')

var nav_openBtn = document.querySelector('.nav_openBtn')

if (nav_openBtn) {

    window.addEventListener("load", function() {
            
        nav_openBtn.style.transitionDuration = '1.1s'
        nav_openBtn.classList.add('transition_toUp')
    })

    nav_openBtn.addEventListener('click', function() {

        nav_box.style.transition = `background-color 0.3s`
        nav_menu.style.transform = 'scaleY(0)'

        nav.style.display = 'block'
        nav_menu.classList.remove('display_none')
        nav_menu.classList.add('list_ON')
        VHimgs_update(nav_menu)

        setTimeout(function() {

            nav_openBtn.style.transitionDuration = '0.5s'
            nav_openBtn.classList.remove('transition_toUp')
            nav_box.style.backgroundColor = 'hsla(0, 0%, 100%, 0.7)'
            nav_menu.style.transform = ''

            if (nav_menu_options_conclusionANDclose) {

                nav_menu_options_conclusionANDclose.forEach(function (option) {

                    closeNav(option)
                })                
            }

            closeNav(nav_box)

        }, 100) // Bug fix: Se n√£o deixar esse tempo aqui buga a transi√ß√£o no Firefox de PC.
    })

    function closeNav(obj) {
                
        obj.addEventListener('click', function() {

            nav_box.style.backgroundColor = ''
        
            setTimeout(function() {

                // csl.log(nav)
                nav.style.display = 'none'
                nav_openBtn.classList.add('transition_toUp')

            }, 300)
        })
    }
}



























var nav_openBtn = document.querySelector('.nav_openBtn')

if (nav_openBtn) {

    var size_nav_openBtn = 56; // V√çNCULO: V√°ri√°vel SCSS
    var offset_nav_openBtn_show = size_nav_openBtn; // V√çNCULO: V√°ri√°vel SCSS

    function nav_openBtn_set_position_inicial() {
        
        return `
        translateX(`+ (document.documentElement.clientWidth/2 - size_nav_openBtn/2) +`px) 
        translateY(`+ (document.documentElement.clientHeight) +`px)`
    }

    function nav_openBtn_set_position_main() {
        
        return `
        translateX(`+ (document.documentElement.clientWidth/2 - size_nav_openBtn/2) +`px) 
        translateY(`+ (document.documentElement.clientHeight - offset_nav_openBtn_show - size_nav_openBtn) +`px)` 
    }

    var nav_openBtn_position_inicial = nav_openBtn_set_position_inicial()
    var nav_openBtn_position_main = nav_openBtn_set_position_main()

    var nav = document.querySelector('nav')
    var nav_box = nav.querySelector(':scope .box')
    var nav_menu = nav.querySelector(':scope ul')
    // var nav_menu_isOpen = false
    var options = nav_menu.querySelectorAll(':scope li')
    var btns = nav_menu.querySelectorAll(':scope button')
    var subLists = nav_menu.querySelectorAll(':scope ul')
    var linkAnchors = nav_menu.querySelectorAll(':scope a:not([href^="#"]):not([href=""])') // Vari√°vel necess√°ria para 
    // animar a janela ao fech√°-la quando clicar em um link dela para outra p√°gina, e tamb√©m para que ela esteja fechada 
    //ao clicar no bot√£o de voltar quando tiver clicado em um link dela para outra p√°gina.

    linkAnchors.forEach(function (a) {

        a.addEventListener('click', function(evt) {

            evt.preventDefault()

            a.classList.add('linkAnchor')
        })
    })

    /* {

    } */

    window.addEventListener("load", function() {
            
        // nav_openBtn.style.transform = nav_openBtn_set_position_inicial()
        nav_openBtn.style.transitionDuration = '1.1s'
        nav_openBtn.style.display = 'inline-flex'

        setTimeout(function() {
            nav_openBtn.classList.add('show')
            // nav_openBtn.style.transform = nav_openBtn_set_position_main()
        })

        //¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑‚óà Evitar que o bot√£o de abrir a navega√ß√£o sobreponha o rodap√©.
        {
            var nav_openBtn_space // √Årea no final da p√°gina pro 'nav_openBtn'.
            var nav_openBtn_space_height = 
            (size_nav_openBtn + offset_nav_openBtn_show)
            // (size_nav_openBtn + offset_nav_openBtn_show + margin_vertical)
            // (size_nav_openBtn + 2 * offset_nav_openBtn_show)

            /* 
            Desisti desta parte comentada porque al√©m de funcionar direito apenas no PC, quando a altura da janela de 
            visualiza√ß√£o fosse muito pr√≥xima da altura total da p√°gina, o usu√°rio poderia n√£o perceber que descendo a 
            p√°gina at√© o fim o bot√£o de abrir a navega√ß√£o iria ocultar-se.

            setInterval(function() {
                
                if (fct_isPC()) { csl.log('PC')

                    if (!nav_openBtn_space) { 

                        if (scrollY + document.documentElement.clientHeight + 0 < html.scrollHeight) { // Tem overflowY e n√£o est√° no final da p√°gina.
                            
                            nav_openBtn.classList.add('show')

                        } else {

                            if (scrollY === 0) { // N√£o tem overflowY
                            
                                nav_openBtn.classList.add('show')

                                var html_height = Number(getComputedStyle(html).getPropertyValue('height').slice(0,-2))

                                var voidSpaceY = html.scrollHeight - html_height

                                // csl.log(html.scrollHeight, html_height, voidSpaceY, nav_openBtn_space_height, _)

                                if (voidSpaceY < nav_openBtn_space_height) { // Espa√ßo vertical vazio muito pequeno para o bot√£o.

                                    add_nav_openBtn_space()
                                }

                            } else { // Tem overflowY e est√° no final da p√°gina.
                                
                                nav_openBtn.classList.remove('show')
                            }
                        }

                    } else if (html.scrollHeight - document.documentElement.clientHeight > nav_openBtn_space_height) {
                        
                        nav_openBtn_space.remove()
                        nav_openBtn_space = null
                    }

                } else if (!nav_openBtn_space) { */

                    add_nav_openBtn_space()
                    /* 
                }
            }, 1000)  */
           
            function add_nav_openBtn_space() {
                                        
                nav_openBtn_space = document.createElement('div')

                // nav_openBtn_space.style.backgroundColor = 'hsla(0, 0%, 0%, 0.05)'
                
                nav_openBtn_space.style.height = (nav_openBtn_space_height) +'px'

                document.body.insertAdjacentElement('beforeend', nav_openBtn_space)
            }
        }
    })

    /* var footer = document.querySelector('footer')

    if (footer) {

        var footer_height = Number(getComputedStyle(footer).getPropertyValue('height').slice(0,-2))

        setInterval(function() {

            var viewport_height_greater_than_or_equal_to_page_content_height = 
            // document.documentElement.clientHeight >= Number(getComputedStyle(html).getPropertyValue('height').slice(0,-2))
            document.documentElement.clientHeight === html.scrollHeight // Essa verifica√ß√£o √© mais precisa que a comentada na linha de cima.

            var viewport_height_smaller_than_the_page_content_height = document.documentElement.clientHeight < html.scrollHeight

            if (viewport_height_greater_than_or_equal_to_page_content_height) { 

                
            } else if(viewport_height_smaller_than_the_page_content_height) {
                
                nav_openBtn.style.bottom = ''

            } else {
                
                nav_openBtn.style.bottom = ''
            }




            
            // if (!nav_menu_isOpen) {
                
                nav_openBtn_position_inicial = nav_openBtn_set_position_inicial()

                nav_openBtn_position_main = nav_openBtn_set_position_main()

                var nav_openBtn_position_up = `
                translateX(`+ (document.documentElement.clientWidth/2 - size_nav_openBtn/2) +`px) 
                translateY(`+ margin_vertical +`px)`
                
                var nav_openBtn_position_upAndRight = `
                translateX(`+ (document.documentElement.clientWidth - size_nav_openBtn - margin_vertical) +`px) 
                translateY(`+ margin_vertical +`px)`

                var viewport_height_greater_than_or_equal_to_page_content_height = 
                // document.documentElement.clientHeight >= Number(getComputedStyle(html).getPropertyValue('height').slice(0,-2))
                html.scrollHeight === document.documentElement.clientHeight // Essa verifica√ß√£o √© mais precisa que a comentada na linha de cima.

                var button_that_opens_the_navigation_is_overlapping_the_footer =  
                // O '-2' abaixo √© um ajuste necess√°rio para que o bot√£o de navega√ß√£o n√£o sobreponha o rodap√©.
                scrollY + document.documentElement.clientHeight > html.scrollHeight - footer_height - margin_vertical - 2 + offset_nav_openBtn_show

                if(viewport_height_greater_than_or_equal_to_page_content_height) {
                    
                    nav_openBtn.style.transform = nav_openBtn_position_upAndRight

                } else if (button_that_opens_the_navigation_is_overlapping_the_footer) {
                    
                    nav_openBtn.style.transform = nav_openBtn_position_up
        
                } else {
                    
                    nav_openBtn.style.transform = nav_openBtn_position_main
                }
            // }               
            
        }, 1000)       
    } */

    nav_openBtn.addEventListener('click', function() {

        // nav_menu_isOpen = true
        nav_openBtn.classList.add('on')
        html.classList.add('overflow_hidden') 
        nav_box.style.transition = `background-color 0.3s`
        nav_menu.style.transform = 'scaleY(0)'

        nav.style.display = 'block'
        nav_menu.classList.remove('display_none')
        nav_menu.classList.add('list_ON')
        VHimgs_update(nav_menu)

        setTimeout(function() {

            nav_openBtn.style.transitionDuration = '0.5s'
            // nav_openBtn.classList.remove('show')
            nav_box.style.backgroundColor = 'hsla(0, 0%, 100%, 0.7)'
            nav_menu.style.transform = ''

            nav_box.addEventListener('click', function(evt) {

                if (evt.target === nav_box) {

                    if (nav_menu.classList.contains('list_ON')) {
                        
                        var listClicked = nav_menu

                    } else {
                        
                        var listClicked = nav_menu.querySelector(':scope .list_ON')
                    }

                    fct_menuList_closeOption(nav_menu, options, btns, subLists, listClicked, transitionDuration_menuList)
                    closeNav()

                } else {

                    var optionClicked = getNearestAncestor(evt.target, 'li')

                    if (optionClicked) {

                        if (optionClicked.classList.contains('conclusion') || optionClicked.classList.contains('close') || optionClicked.firstElementChild.classList.contains('linkAnchor')) {
                            
                            closeNav()
                        }
                    }
                }
            })

        }, 100) // Bug fix: Se n√£o deixar esse tempo aqui buga a transi√ß√£o no Firefox de PC.
    })

    function closeNav() {

        // nav_menu_isOpen = false
        html.classList.remove('overflow_hidden') 
        nav_box.style.backgroundColor = ''
                
        setTimeout(function() {

            nav.style.display = 'none'
            // nav_openBtn.classList.add('show')
            nav_openBtn.classList.remove('on')

        }, 300)
    }
}



/* 2¬∫ <nav> (incompleto):

var nM = document.querySelector('.nav_menu')

if (nM) {
    var nav_expand = 565 // V√çNCULO: V√°ri√°vel SCSS
    var transitionDuration_nav_btnANDmenu = 0.5 // segundos // V√çNCULO: V√°ri√°vel SCSS

    var nM_expand = nav_expand
    var nM_isNotTransitionRunning = true
    var nM_mode = 'Compact' // 'Compact' ou 'Expanded'
    var nM_closed = true
    var nM_btn = document.querySelector(':scope .nav_menuBtn')
    var nM_btn_icons = nM_btn.querySelectorAll(':scope *')
    var nM_ulOfOptions = nM.querySelector(':scope .ulOfOptions')
    // var nM_ulsOfSubOptions = nM.querySelectorAll(':scope .ulOfSubOptions')
    // var subOptions = nM.querySelectorAll(':scope .subOption')

    var nM_ulOfOptions_linedUp_spans = nM.querySelectorAll(':scope .ulOfOptions.linedUp .option > * > span')
    var nM_ulsOfSubOptions_linedUp = nM.querySelectorAll(':scope .ulOfSubOptions.linedUp')

    //¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑‚óà 

    function nM_resize() {
        
        updateNavMenuMode()
    }

    updateNavMenuMode()

    function updateNavMenuMode() {
        
        if(window.innerWidth >= nM_expand) {
        
            nM_mode = 'Expanded'

        } else {

            nM_mode = 'Compact'
        }
    }

    function undoCompactModeChanges() {  // <----------------------------------------------------------------------

        nM_closed = true

        //¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑‚óà Desfaz estilos da classe CSS 'linedUp':
        
        if (nM_ulOfOptions_linedUp_spans) {

            nM_ulOfOptions_linedUp_spans.forEach(function (span) { span.style = '' })
        }
        
        if (nM_ulsOfSubOptions_linedUp) {
                
            nM_ulsOfSubOptions_linedUp.forEach(function (ul) {
            
                var currentUL_subOptions_spans = ul.querySelectorAll(':scope .subOption span')

                currentUL_subOptions_spans.forEach(function (span) { span.style = '' })
            })
        }

        //¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑‚óà Desfaz os estilos aplicados ao clicar no bot√£o de menu:
        
        nM.style = ''
        nM_ulOfOptions.style = ''
    }

    //¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑‚óà Classe CSS 'linedUp'
    
    if (nM_mode === 'Compact') {

        //¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑‚óà ulOfOptions
            
        if (nM_ulOfOptions_linedUp_spans) {
            
            var span_width_wider = GetLargestWidthAmongElements(nM_ulOfOptions_linedUp_spans)

            nM_ulOfOptions_linedUp_spans.forEach(function (span) {

                span.style.width = span_width_wider + 7 +'px' // Bug fix: Adicionei 7 pixels pq tava bugando no Edge e no Safari.
            })
        }

        //¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑‚óà ulsOfSubOptions
            
        if (nM_ulsOfSubOptions_linedUp) {
                
            nM_ulsOfSubOptions_linedUp.forEach(function (ul) {
            
                var currentUL_subOptions_spans = ul.querySelectorAll(':scope .subOption span')
            
                // console.log('-----------------------')
                var span_width_wider = GetLargestWidthAmongElements(currentUL_subOptions_spans)

                currentUL_subOptions_spans.forEach(function (span) {

                    span.style.width = span_width_wider +'px'
                })
            })
        }

        //¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑‚óà Fun√ß√£o que retorna a maior largura dentre os elementos especificados.

        function GetLargestWidthAmongElements(elements) {
            
            var element_width_current
            var element_width_wider = 0

            elements.forEach(function (element) {
            
                element_width_current = Number(getComputedStyle(element).getPropertyValue('width').slice(0,-2))

                // console.log(element)
                // console.log(element_width_current)

                if (element_width_current > element_width_wider) {

                    element_width_wider = element_width_current
                }

                // console.log('element_width_wider: '+ element_width_wider)
            })

            return element_width_wider
        }
    }

    //¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑‚óà Bug fix: Ver a nota de 'bug fix' de 'opacity' desse elemento no SCSS.

    setTimeout(function() { nM_btn_icons[1].style.opacity = '1' }, transitionDuration_nav_btnANDmenu * 1000 / 2)

    //¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑‚óà 

    nM_btn.addEventListener('click', function() {

        if (nM_isNotTransitionRunning) {
            nM_isNotTransitionRunning = false

            if (nM_closed) {
                
                nM.style.height = 'auto'

                setTimeout(function() {

                    nM_btn_icons[0].style.transform = 'translateX(48px)'
                    nM_btn_icons[1].style.transform = 'translateX(0)'
                    nM.style.backgroundColor = 'hsla(0, 0%, 100%, 0.8)'
                    nM_ulOfOptions.style.height = '491px' // '148px'   '197px'  
                    // nM_ulOfOptions.style.height = 'auto'

                    setTimeout(function() {

                        nM_btn_icons[0].style.transition = 'transform '+ (transitionDuration_nav_btnANDmenu / 2) +'s '+ (transitionDuration_nav_btnANDmenu / 2) +'s'
                        nM_btn_icons[1].style.transition = 'transform '+ (transitionDuration_nav_btnANDmenu / 2) +'s'
                        setTimeout(function() { nM_ulOfOptions.style.overflowY = 'auto' }, 200)  // Bug fix: O setTimeout() evita que a barra de rolagem apare√ßa brevemente ap√≥s abrir o menu de navega√ß√£o.
                        nM_closed = false



                        nM_isNotTransitionRunning = true
                    }, transitionDuration_nav_btnANDmenu * 1000)
                })                

            } else {

                nM_ulOfOptions.style.overflowY = ''

                setTimeout(function() {

                    nM_btn_icons[0].style.transform = ''
                    nM_btn_icons[1].style.transform = ''
                    nM.style.backgroundColor = ''
                    nM_ulOfOptions.style.height = ''

                    setTimeout(function() {

                        nM.style.height = ''
                        nM_btn_icons[0].style.transition = ''
                        nM_btn_icons[1].style.transition = ''
                        nM_closed = true

                        nM_isNotTransitionRunning = true
                    }, transitionDuration_nav_btnANDmenu * 1000)
                })                
            }
        }
    })
}

// undoCompactModeStyles()
*/



/* 1¬∫ <nav>:
{
var nav_menu_compact_enabled = false
var nav_options_anchors = document.querySelectorAll('.nav_menu > ul > li > a')
var nav_divs = document.querySelectorAll('.nav_menu > ul > li > div') 
var nav_options_anchorClicked_index = 'none'
// var bg_nav_selector = 'url(../../../images/bgs/nav_selector.png)  center/100% 100%' // V√çNCULO: V√°ri√°vel CSS

var nav_html_scrollbar_allowedEnable = false // <- Vari√°vel necess√°ria para impedir que a scrollbar do <html> apare√ßa em momentos em que n√£o se deseja quando se redimensiona a janela de visualiza√ß√£o.

document.querySelector('.nav_menuBtn').onclick = function() {

    if(document.querySelector('.nav_menu').style.display !== 'block') { 

        document.querySelector('.nav_menu').style = 'display: block'
        document.querySelector('.nav_menuBtn :nth-child(1)').style = 'display: none'
        document.querySelector('.nav_menuBtn :nth-child(2)').style = 'display: flex'
        html.classList.add('overflow_hidden')
        nav_html_scrollbar_allowedEnable = true
        nav_menu_compact_enabled = true

    } else {

        document.querySelector('.nav_menu').style = 'display: none'
        document.querySelector('.nav_menuBtn :nth-child(2)').style = 'display: none'
        document.querySelector('.nav_menuBtn :nth-child(1)').style = 'display: block'
        html.classList.remove('overflow_hidden')
        nav_menu_compact_enabled = false

        for(var i = 0; i < nav_divs.length; i++) {
            //nav_options_anchors[i].style = ''
            nav_options_anchors[i].classList.remove('nav_selector')
            nav_divs[i].style = 'display: none'
        }

        nav_options_anchorClicked_index = 'none'
    }
}

window.onresize = function() {
    if(window.innerWidth >= nav_expand) {
        //document.querySelector('.nav_menu').style = 'display: inline-block'
         
        if(nav_options_anchorClicked_index === 'none') {

            if(nav_html_scrollbar_allowedEnable === true) {

                html.classList.remove('overflow_hidden')

                nav_html_scrollbar_allowedEnable = false
            }
        }

    } else {

        if(nav_menu_compact_enabled === true) {
            document.querySelector('.nav_menu').style = 'display: block'
            document.querySelector('.nav_menuBtn :nth-child(1)').style = 'display: none'
            document.querySelector('.nav_menuBtn :nth-child(2)').style = 'display: flex'
            html.classList.add('overflow_hidden')
            nav_html_scrollbar_allowedEnable = true

        } else {
            document.querySelector('.nav_menu').style = 'display: none'
            document.querySelector('.nav_menuBtn :nth-child(2)').style = 'display: none'
            document.querySelector('.nav_menuBtn :nth-child(1)').style = 'display: block'
        }
    }

    if(nav_options_anchorClicked_index !== 'none') { 
        if(window.innerWidth >= nav_expand) {
            //nav_options_anchors[nav_options_anchorClicked_index].style = 
            //'background: '+ bg_nav_selector +'; height: 40px; border-radius: 15px; padding-left: 4px; padding-right: 4px; margin-top: 4px'
            nav_options_anchors[nav_options_anchorClicked_index].classList.add('nav_selector')

        } else { 
            //nav_options_anchors[nav_options_anchorClicked_index].style = 'background: 0' 
            nav_options_anchors[nav_options_anchorClicked_index].classList.remove('nav_selector')
        }
    }
} 

function nav_menu_options(arg) { 
    
    for(var i = 0; i < nav_options_anchors.length; i++) { // <- Verifica qual <a> de categoria foi clicado.
        if(arg === nav_options_anchors[i]) {

            nav_options_anchorClicked_index = i
            break  
        }
    }

    if(nav_divs[nav_options_anchorClicked_index].style.display !== 'block') { // <- Habilita/desabilita o <div> de sub op√ß√£o 
                                                                           // correspondente ao <a> de categoria clicado.

        for(var i = 0; i < nav_divs.length; i++) { // <- Desabilita todos os <div>'s de sub op√ß√£o.
            // nav_options_anchors[i].style = ''
            nav_options_anchors[i].classList.remove('nav_selector')
            nav_divs[i].style = 'display: none'
        }

        if(window.innerWidth >= nav_expand) { 
            //nav_options_anchors[nav_options_anchorClicked_index].style = 
            //'background: '+ bg_nav_selector +'; height: 40px; border-radius: 15px; padding-left: 5px; padding-right: 5px; margin-top: 4px'
            nav_options_anchors[nav_options_anchorClicked_index].classList.add('nav_selector')
        }

        nav_divs[nav_options_anchorClicked_index].style = 'display: block'

        nav_menu_compact_enabled = true

        if(window.innerWidth >= nav_expand) { 
            html.classList.add('overflow_hidden')
            nav_html_scrollbar_allowedEnable = true
        }

    } else {
        //nav_options_anchors[nav_options_anchorClicked_index].style = ''
        nav_options_anchors[nav_options_anchorClicked_index].classList.remove('nav_selector')
        nav_divs[nav_options_anchorClicked_index].style = 'display: none'

        nav_options_anchorClicked_index = 'none'

        nav_menu_compact_enabled = false

        if(window.innerWidth >= nav_expand) { 
            html.classList.remove('overflow_hidden')
        }
    }
}

// Fechar janela do menu ao clicar fora dele:
{

var nav_optionsMenu_clicked = false
var nav_subOptionsMenu_clicked = false

// Janela do menu quando HeaderANDnav est√° compacto:

    document.querySelector('.nav_menu > ul').onclick = function() { // console.log('optionsMenu')
        nav_optionsMenu_clicked = true
    }

    document.querySelector('.nav_menu').onclick = function() { // console.log('.nav_menu')
        if(nav_optionsMenu_clicked === false) {
            document.querySelector('.nav_menu').style = 'display: none'
            document.querySelector('.nav_menuBtn :nth-child(2)').style = 'display: none'
            document.querySelector('.nav_menuBtn :nth-child(1)').style = 'display: block'
            html.classList.remove('overflow_hidden')
            nav_menu_compact_enabled = false

            for(var i = 0; i < nav_divs.length; i++) {
                // nav_options_anchors[i].style = ''
                nav_options_anchors[i].classList.remove('nav_selector')
                nav_divs[i].style = 'display: none'
            }
            nav_options_anchorClicked_index = 'none'
        } else {
            nav_optionsMenu_clicked = false
        }
    }

// Janela do menu quando HeaderANDnav est√° expandido:

    for(var i = 0; i < nav_divs.length; i++) {

        nav_divs[i].children[0].onclick = function() { // console.log('subOptionsMenu') 
            nav_subOptionsMenu_clicked = true
        }
    }

    for(var i = 0; i < nav_divs.length; i++) {

        nav_divs[i].onclick = function() { // console.log('div')
            if(nav_subOptionsMenu_clicked === false) {

                html.classList.remove('overflow_hidden')
                nav_menu_compact_enabled = false

                for(var i = 0; i < nav_divs.length; i++) {
                    // nav_options_anchors[i].style = ''
                    nav_options_anchors[i].classList.remove('nav_selector')
                    nav_divs[i].style = 'display: none'
                }
                nav_options_anchorClicked_index = 'none'
            } else {
                nav_subOptionsMenu_clicked = false
            }
        }
    }

}

// HeaderANDnav button:

document.querySelector('.nav_menu > ul > li:nth-last-of-type(1)').onclick = function() { // <- Hide HeaderANDnav

    for(var i = 0; i < nav_divs.length; i++) {
        //nav_options_anchors[i].style = ''
        nav_options_anchors[i].classList.remove('nav_selector')
        nav_divs[i].style = 'display: none'
    }

    nav_menu_compact_enabled = false
    nav_options_anchorClicked_index = 'none'

    if(window.innerWidth >= nav_expand) { 
        html.classList.remove('overflow_hidden')
    }
    
    document.querySelector('.headerANDnav').style.display = 'none'
    document.querySelector('.hackBlock').style.display = 'none'
    document.querySelector('.headerANDnav_btn').style.display = 'block'
}

document.querySelector('.headerANDnav_btn').onclick = function() { // <- Show HeaderANDnav
    document.querySelector('.headerANDnav').style.display = 'block'
    document.querySelector('.hackBlock').style.display = 'block'
    document.querySelector('.headerANDnav_btn').style.display = 'none'
}

} */
























function imgs_textBelow_VH_allOptionsWithLargestWidth(list) {

    var imgOptions = list.querySelectorAll(':scope > li:not(.back):not(.close)')
        
    if (list.classList.contains('imgs_textBelow_VH')) {

        if ((imgOptions[0].style.width === '') || (imgOptions[0].style.width === '0px')) { // Bug fix: Por alguma raz√£o quando uma e 
            // janela de lista de menu √© aberta e depois fechada quando a janela de visualiza√ß√£o √© maior que 'screen_small_widthLimit' 
            // depois √© aberta quando a janela de visualiza√ß√£o √© menor que 'screen_small_widthLimit', as propriedades 'width' das 
            // op√ß√µes da janela de lista de menu ficam grandes o suficiente at√© ela (junto com suas margens horizontais) preencher 
            //  a largura da janela de visualiza√ß√£o.
                
            imgOptions.forEach(function (imgOption) { // Bug fix: Este bug s√≥ acontece quando a janela de lista de menu √© aberta 
                // (como quando a janela de menu de navega√ß√£o √© aberta). Por alguma raz√£o quando a janela √© aberta, ela fica muito 
                // comprimida, menor que o espa√ßo necess√°rio para conter seu conte√∫do.
                    
                imgOption.style.width = ''
            })
            
            var imgOptions_largestWidthValue = getLargestWidthAmongElements(imgOptions)
            
            { // C√≥digo de debug:

            // console.log(imgOptions)
            
            // imgOptions.forEach(function (opt) {
            
            //     console.log(Number(getComputedStyle(opt).getPropertyValue('width').slice(0,-2)))
            // })

            // csl.log('imgOptions_largestWidthValue = '+ imgOptions_largestWidthValue)
            }
            
            imgOptions.forEach(function (imgOption) {
                
                imgOption.style.width = (imgOptions_largestWidthValue) +'px'
            })            
        }
    }
}













function bugFix_mobile_imgsBorderRadius(list, menuList_borderRadiusValue) { // Bug fix: 

    if (!list.bordersFixed) {

        if (list.classList.contains('imgs_textBelow_VH')) {
                
            var imgs = list.querySelectorAll(':scope > li:not(.back):not(.close) > * > img, :scope > li:not(.back):not(.close) > * > div')
            var texts = list.querySelectorAll(':scope > li:not(.back):not(.close) > * > span')

            list.imgs_largestWidthValue = getLargestWidthAmongElements(imgs)

            list.texts_largestWidthValue = getLargestWidthAmongElements(texts)

            var imgs_textBelow_VH__conditionToApplyBorderRadius = 
            list.classList.contains('imgs_textBelow_VH') && 
            screen_verticalMode && 
            (list.imgs_largestWidthValue >= list.texts_largestWidthValue)
        }

        if (
            list.classList.contains('imgs_noText_V') || 
            (list.classList.contains('imgs_noText_VH') && screen_verticalMode ) || 
            list.classList.contains('imgs_textAside_V') || 
            imgs_textBelow_VH__conditionToApplyBorderRadius
            ) {
            
            var fit = -33 // 3

            var img_first = list.querySelector(':scope > li:nth-of-type(1) > *  > img, :scope > li:nth-of-type(1) > *  > div')

            img_first.style.borderTopLeftRadius = (menuList_borderRadiusValue - fit) +'px'
            
            if (
                list.classList.contains('imgs_noText_V') || 
                (list.classList.contains('imgs_noText_VH') && screen_verticalMode) || 
                imgs_textBelow_VH__conditionToApplyBorderRadius
                ) {

                img_first.style.borderTopRightRadius = (menuList_borderRadiusValue - fit) +'px'
            }

            if (!list.classList.contains('closeOption') && !list.classList.contains('backOption')) {

                if (!list.classList.contains('imgs_textBelow_VH')) {

                    var img_last = list.querySelector(':scope > li:nth-last-of-type(1) > *  > img, :scope > li:nth-last-of-type(1) > *  > div')

                    img_last.style.borderBottomLeftRadius = (menuList_borderRadiusValue - fit) +'px'
                
                    if (
                        list.classList.contains('imgs_noText_V') || 
                        (list.classList.contains('imgs_noText_VH') && screen_verticalMode)
                        ) {
                        
                        img_last.style.borderBottomRightRadius = (menuList_borderRadiusValue - fit) +'px'
                    }
                }

            }
        }                
    }

    if (list.classList.contains('imgs_noText_V') || list.classList.contains('imgs_textAside_V')) {

        list.bordersFixed = true
    }
}